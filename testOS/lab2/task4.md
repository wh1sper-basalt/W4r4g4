# Задание 4. Отчет с рекомендациями по исправлению ошибок

## Общая информация

| Параметр | Значение |
|---|---|
| **Объект тестирования** | Программа `task1.py` (определение вида треугольника по сторонам) |
| **Версия ПО** | 1.0 |
| **Дата тестирования** | 16 февраля 2026 |
| **Тестировщик** | [Ваше имя] |
| **Группа** | [Номер группы] |

## 1. Найденные дефекты

| ID | Описание дефекта | Серьезность | Приоритет | Статус |
|----|------------------|--------------|-----------|--------|
| DEF-01 | При вводе нечисловых значений программа завершается, а не предлагает повторить ввод | Средняя | Средний | Подтвержден |
| DEF-02 | Отсутствует проверка на количество введенных значений | Низкая | Низкий | Подтвержден |
| DEF-03 | Нет возможности повторного ввода при ошибке | Низкая | Низкий | Подтвержден |
| DEF-04 | Вывод площади с избыточной точностью (много знаков) | Низкая | Низкий | Подтвержден |

---

## 2. Рекомендации по исправлению

### DEF-01: Обработка нечисловых значений

**Проблема**: При вводе букв или иных символов вместо чисел программа вызывает исключение `ValueError` и завершается. Пользователь теряет возможность исправить ввод.

**Текущий код**:
```python
try:
    a = float(input("Сторона a: "))
    b = float(input("Сторона b: "))
    c = float(input("Сторона c: "))
except ValueError:
    print("Ошибка: введены некорректные данные. Ожидались числа.")
```

**Рекомендация:** Организовать цикл для каждого вводимого значения, который будет повторять запрос до тех пор, пока не будет введено корректное число.

**Исправленный код:**

```python
def get_float(prompt):
    while True:
        try:
            return float(input(prompt))
        except ValueError:
            print("Ошибка: необходимо ввести число. Попробуйте снова.")

a = get_float("Сторона a: ")
b = get_float("Сторона b: ")
c = get_float("Сторона c: ")
```


### DEF-02: Проверка на количество введенных значений

**Проблема**: Программа не проверяет, что пользователь вообще что-то ввёл (например, нажал Enter, не введя число). В текущей реализации пустая строка также вызовет ValueError, но это не очевидно.

**Рекомендация:** Добавить явную проверку на пустой ввод и, возможно, разрешить ввод всех трёх чисел в одной строке (опционально).

**Исправленный код:**

```python
def get_float(prompt):
    while True:
        s = input(prompt).strip()
        if s == '':
            print("Ошибка: ввод не может быть пустым.")
            continue
        try:
            return float(s)
        except ValueError:
            print("Ошибка: необходимо ввести число.")
```


### DEF-03: Отсутствие повторного ввода при ошибке

**Проблема**: Даже если пользователь исправит ошибку, программа уже завершилась. Нет возможности продолжить работу после некорректного ввода.

**Рекомендация:** Организовать основной цикл программы, который позволяет выполнять множество вычислений, и корректно обрабатывать исключения без завершения.

**Исправленный код (общая структура):**

```python
def main():
    print("Программа определения вида треугольника")
    while True:
        # ввод сторон с защитой (функции get_float)
        a = get_float("Сторона a: ")
        b = get_float("Сторона b: ")
        c = get_float("Сторона c: ")

        ttype = triangle_type_by_sides(a, b, c)
        if ttype == "Не треугольник":
            print("Такой треугольник не существует.")
        else:
            area = calculate_area(a, b, c)
            print(f"Тип: {ttype}, площадь: {area:.2f}")

        cont = input("Хотите ввести ещё один треугольник? (y/n): ").lower()
        if cont != 'y':
            break

if __name__ == "__main__":
    main()
```


### DEF-04: Избыточная точность вывода площади

**Проблема**: Площадь выводится с большим количеством знаков после запятой (например, 15.588457268119894), что выглядит неопрятно и не соответствует ожиданиям пользователя.

**Текущий код:**

```python
print(f"Площадь треугольника: {area}")
```

**Рекомендация:** Ограничить количество знаков после запятой до двух (или до разумного значения). Для очень малых чисел можно использовать научный формат.

**Исправленный код (общая структура):**

```python
if area < 0.01:
    print(f"Площадь треугольника: {area:.2e}")
else:
    print(f"Площадь треугольника: {area:.2f}")
```

## 3. Заключение

В результате тестирования программы task1.py выявлены четыре основных недостатка, связанных с обработкой пользовательского ввода и форматированием вывода. Предложенные исправления:
- обеспечивают повторный ввод при ошибках;
- проверяют пустые строки;
- позволяют работать с несколькими треугольниками за сеанс;
- делают вывод более читаемым.

Аналогичные улучшения рекомендуется внести и в программу task3.py, так как она использует ту же логику ввода.

После внесения изменений программа станет более устойчивой и удобной для конечного пользователя.